{
  "name": "assetmanager",
  "version": "0.1.2",
  "description": "Asset manager easily allows you to switch between development and production css and js files in your templates by managing them in a single json file that's still compatible with grunt cssmin and uglify.",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/ReedD/node-assetmanager"
  },
  "keywords": [
    "asset",
    "manager",
    "css",
    "js",
    "layout"
  ],
  "author": {
    "name": "Reed Dadoune",
    "email": "Reed@Dadoune.com",
    "url": "http://www.dadoune.com/"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/ReedD/node-assetmanager/issues"
  },
  "homepage": "https://github.com/ReedD/node-assetmanager",
  "dependencies": {
    "glob": "^3.2.9",
    "underscore": "^1.6.0"
  },
  "readme": "node-assetmanager\n=================\n\nAsset manager easily allows you to switch between development and production css and js files in your templates by managing them in a single json file that's still compatible with grunt cssmin and uglify. A working demo/implimentation of this can been seen in [MEAN Stack](https://github.com/linnovate/mean).\n\n\n## Usage\nTo use [assetmanager](https://www.npmjs.org/package/assetmanager), cd into your project directory and install assetmanager with npm.\n\n\n```\n$ cd /to/project/directory\n$ npm install assetmanager --save\n```\n\nSetup an external json asset configuration file that holds your development and production css and js files. The format of this file matches that used in cssmin and uglify grunt tasks where the key is the name of the output production file and the following array is a list of files that need to be compressed. You may also add external resources, however these entries should be 1-to-1 key value pairs. External resources will not cause issues with grunt cssmin or uglify, they will simply be treated as empty resources and thus ignored.\n\n**assets.json**\n\n```\n{\n\t\"css\": {\n\t\t\"public/build/css/dist.min.css\": [\n\t\t\t\"public/lib/bootstrap/dist/css/bootstrap.css\",\n\t\t\t\"public/css/**/*.css\"\n\t\t]\n\t},\n\t\"js\": {\n\t\t\"//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js\": \"//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore.js\",\n\t\t\"public/build/js/dist.min.js\": [\n\t\t\t\"public/lib/angular/angular.js\",\n\t\t\t\"public/lib/angular-cookies/angular-cookies.js\",\n\t\t\t\"public/lib/angular-resource/angular-resource.js\",\n\t\t\t\"public/lib/angular-ui-router/release/angular-ui-router.js\",\n\t\t\t\"public/lib/angular-bootstrap/ui-bootstrap.js\",\n\t\t\t\"public/lib/angular-bootstrap/ui-bootstrap-tpls.js\",\n\t\t\t\"public/js/**/*.js\"\n\t\t]\n\t}\n}\n```\n\nThis way in your `gruntfile` you can easily import the same `assets.json` config file and plop in the respective values for css and js.\n\n**gruntfile.js**\n\n```\n'use strict';\n\nmodule.exports = function(grunt) {\n\t// Project Configuration\n\tgrunt.initConfig({\n\t\tassets: grunt.file.readJSON('config/assets.json'),\n\t\tuglify: {\n\t\t\tproduction: {\n\t\t\t\toptions: {\n\t\t\t\t\tmangle: true,\n\t\t\t\t\tcompress: true\n\t\t\t\t},\n\t\t\t\tfiles: '<%= assets.js %>'\n\t\t\t}\n\t\t},\n\t\tcssmin: {\n\t\t\tcombine: {\n\t\t\t\tfiles: '<%= assets.css %>'\n\t\t\t}\n\t\t}\n\t});\n\n\t//Load NPM tasks\n\tgrunt.loadNpmTasks('grunt-contrib-cssmin');\n\tgrunt.loadNpmTasks('grunt-contrib-uglify');\n\n\t//Making grunt default to force in order not to break the project.\n\tgrunt.option('force', true);\n\n\t//Default task(s).\n\tgrunt.registerTask('default', ['cssmin', 'uglify']);\n\n};\n```\n\nThen in your node app require `assetmanager`, the example below is partial code from an express setup. Call `assetmanager.init` with your files from your `assets.json` config file. Set the `debug` value to toggle between your compressed files and your development files. You can also set the `webroot` value so that when assetmanager processes your files it will change `public/lib/angular/angular.js` to `/lib/angular/angular.js` so that everything is relative to your webroot.\n\n```\n'use strict';\n\n/**\n * Module dependencies.\n */\nvar express = require('express'),\n\tassetmanager = require('assetmanager');\n\nmodule.exports = function(app, passport, db) {\n\n\tapp.configure(function() {\n\t\t// Import your asset file\n\t\tvar assets = require('./assets.json');\n\t\tassetmanager.init({\n\t\t\tjs: assets.js,\n\t\t\tcss: assets.css,\n\t\t\tdebug: (process.env.NODE_ENV !== 'production'),\n\t\t\twebroot: 'public'\n\t\t});\n\t\t// Add assets to local variables\n\t\tapp.use(function (req, res, next) {\n\t\t\tres.locals({\n\t\t\t\tassets: assetmanager.assets\n\t\t\t});\n\t\t\tnext();\n\t\t});\n\n\t\t// ... Your CODE\n\n\t});\n\n\t// ... Your CODE\n\n};\n```\nThen finally in your template you can output them with whatever templating framework you use. Using swig your template might look something like this:\n\n```\n{% for file in assets.css %}\n\t<link rel=\"stylesheet\" href=\"{{file}}\">\n{% endfor %}\n\n{% for file in assets.js %}\n\t<script type=\"text/javascript\" src=\"{{file}}\"></script>\n{% endfor %}\n```\n\n",
  "readmeFilename": "README.md",
  "_id": "assetmanager@0.1.2",
  "_from": "assetmanager@"
}
